# 127.0.0.1 è¿æ¥è¢«æ‹’ç»é—®é¢˜è§£å†³æ–¹æ¡ˆ

> **é—®é¢˜**ï¼šERR_CONNECTION_REFUSED - æ— æ³•è¿æ¥åˆ°127.0.0.1  
> **åŸå› **ï¼šç³»ç»Ÿæˆ–Gité…ç½®äº†æœ¬åœ°ä»£ç†ï¼Œä½†ä»£ç†æœåŠ¡æœªè¿è¡Œ

---

## ğŸ” é—®é¢˜åˆ†æ

### é”™è¯¯ä¿¡æ¯
```
127.0.0.1 è¿æ¥è¢«æ‹’ç»ï¼ˆERR_CONNECTION_REFUSEDï¼‰
Failed to connect to github.com port 443
```

### å¯èƒ½çš„åŸå› 

1. **ç³»ç»Ÿä»£ç†é…ç½®**ï¼šWindowsç³»ç»Ÿé…ç½®äº†æœ¬åœ°ä»£ç†ï¼ˆ127.0.0.1:ç«¯å£ï¼‰
2. **Gitä»£ç†é…ç½®**ï¼šGité…ç½®äº†æœ¬åœ°ä»£ç†ï¼Œä½†ä»£ç†æœåŠ¡æœªè¿è¡Œ
3. **ç¯å¢ƒå˜é‡**ï¼šHTTP_PROXY/HTTPS_PROXYç¯å¢ƒå˜é‡æŒ‡å‘127.0.0.1
4. **VPN/ä»£ç†è½¯ä»¶**ï¼šæŸäº›VPNæˆ–ä»£ç†è½¯ä»¶é…ç½®äº†æœ¬åœ°ä»£ç†

---

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ¸…é™¤Gitä»£ç†é…ç½®ï¼ˆæ¨èï¼‰

```bash
# æ¸…é™¤å…¨å±€ä»£ç†é…ç½®
git config --global --unset http.proxy
git config --global --unset https.proxy

# æ¸…é™¤æœ¬åœ°ä»“åº“ä»£ç†é…ç½®
git config --local --unset http.proxy
git config --local --unset https.proxy

# éªŒè¯å·²æ¸…é™¤
git config --global --get http.proxy  # åº”è¯¥è¿”å›ç©º
git config --local --get http.proxy   # åº”è¯¥è¿”å›ç©º
```

### æ–¹æ¡ˆ2ï¼šæ¸…é™¤ç³»ç»Ÿç¯å¢ƒå˜é‡

**PowerShell**ï¼š
```powershell
# æ£€æŸ¥ç¯å¢ƒå˜é‡
$env:HTTP_PROXY
$env:HTTPS_PROXY
$env:http_proxy
$env:https_proxy

# ä¸´æ—¶æ¸…é™¤ï¼ˆå½“å‰ä¼šè¯ï¼‰
$env:HTTP_PROXY = $null
$env:HTTPS_PROXY = $null
$env:http_proxy = $null
$env:https_proxy = $null

# æ°¸ä¹…æ¸…é™¤ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
[System.Environment]::SetEnvironmentVariable('HTTP_PROXY', $null, 'User')
[System.Environment]::SetEnvironmentVariable('HTTPS_PROXY', $null, 'User')
```

**CMD**ï¼š
```cmd
# æ£€æŸ¥ç¯å¢ƒå˜é‡
echo %HTTP_PROXY%
echo %HTTPS_PROXY%

# æ¸…é™¤ç¯å¢ƒå˜é‡ï¼ˆéœ€è¦é‡å¯ï¼‰
setx HTTP_PROXY ""
setx HTTPS_PROXY ""
```

### æ–¹æ¡ˆ3ï¼šæ¸…é™¤Windowsç³»ç»Ÿä»£ç†

**æ–¹æ³•1ï¼šé€šè¿‡è®¾ç½®**
1. Win + I â†’ æ‰“å¼€"è®¾ç½®"
2. ç½‘ç»œå’ŒInternet â†’ ä»£ç†
3. æ£€æŸ¥"æ‰‹åŠ¨ä»£ç†è®¾ç½®"
4. å¦‚æœæœ‰127.0.0.1çš„é…ç½®ï¼š
   - å–æ¶ˆå‹¾é€‰"ä½¿ç”¨ä»£ç†æœåŠ¡å™¨"
   - æˆ–åˆ é™¤ä»£ç†åœ°å€

**æ–¹æ³•2ï¼šé€šè¿‡å‘½ä»¤è¡Œ**
```bash
# æŸ¥çœ‹å½“å‰ä»£ç†é…ç½®
netsh winhttp show proxy

# æ¸…é™¤ä»£ç†é…ç½®
netsh winhttp reset proxy

# éªŒè¯
netsh winhttp show proxy
```

### æ–¹æ¡ˆ4ï¼šæ£€æŸ¥å¹¶åœæ­¢ä»£ç†æœåŠ¡

```bash
# æ£€æŸ¥æ˜¯å¦æœ‰ä»£ç†æœåŠ¡è¿è¡Œ
Get-Service | Where-Object {$_.DisplayName -like "*proxy*"}

# å¦‚æœæœ‰ï¼Œå¯ä»¥å°è¯•åœæ­¢ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
Stop-Service [æœåŠ¡å]
```

### æ–¹æ¡ˆ5ï¼šç›´æ¥ä½¿ç”¨GitHubï¼Œä¸é€šè¿‡ä»£ç†

```bash
# ä¸ºGitHubåŸŸåç¦ç”¨ä»£ç†
git config --global http.https://github.com.proxy ""

# æˆ–è€…ä½¿ç”¨SSHæ–¹å¼ï¼ˆæ¨èï¼‰
git remote set-url origin git@github.com:MRYGP/sanxiangwendao.git
```

---

## ğŸ“‹ å®Œæ•´ä¿®å¤æ­¥éª¤

### æ­¥éª¤1ï¼šæ¸…é™¤æ‰€æœ‰ä»£ç†é…ç½®

```bash
# 1. æ¸…é™¤Gitå…¨å±€ä»£ç†
git config --global --unset http.proxy
git config --global --unset https.proxy

# 2. æ¸…é™¤Gitæœ¬åœ°ä»£ç†
git config --local --unset http.proxy
git config --local --unset https.proxy

# 3. æ¸…é™¤Windowsç³»ç»Ÿä»£ç†
netsh winhttp reset proxy

# 4. æ¸…é™¤ç¯å¢ƒå˜é‡ï¼ˆPowerShellï¼‰
$env:HTTP_PROXY = $null
$env:HTTPS_PROXY = $null
$env:http_proxy = $null
$env:https_proxy = $null
```

### æ­¥éª¤2ï¼šéªŒè¯é…ç½®

```bash
# æ£€æŸ¥Gité…ç½®
git config --global --list | Select-String proxy
git config --local --list | Select-String proxy

# æ£€æŸ¥ç³»ç»Ÿä»£ç†
netsh winhttp show proxy

# æ£€æŸ¥ç¯å¢ƒå˜é‡
$env:HTTP_PROXY
$env:HTTPS_PROXY
```

### æ­¥éª¤3ï¼šæµ‹è¯•è¿æ¥

```bash
# æµ‹è¯•GitHubè¿æ¥
git fetch origin

# æˆ–å°è¯•æ¨é€
git push origin master
```

---

## ğŸ” è¯Šæ–­å‘½ä»¤

### æ£€æŸ¥æ‰€æœ‰å¯èƒ½çš„ä»£ç†é…ç½®

```bash
# 1. Gitå…¨å±€é…ç½®
git config --global --list | Select-String proxy

# 2. Gitæœ¬åœ°é…ç½®
git config --local --list | Select-String proxy

# 3. ç³»ç»Ÿä»£ç†
netsh winhttp show proxy

# 4. ç¯å¢ƒå˜é‡
$env:HTTP_PROXY
$env:HTTPS_PROXY
$env:http_proxy
$env:https_proxy
$env:ALL_PROXY

# 5. æ³¨å†Œè¡¨ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
reg query "HKCU\Software\Microsoft\Windows\CurrentVersion\Internet Settings" /v ProxyServer
```

---

## ğŸ’¡ é¢„é˜²æªæ–½

### 1. ä½¿ç”¨SSHæ–¹å¼ï¼ˆæ¨èï¼‰

```bash
# åˆ‡æ¢åˆ°SSHæ–¹å¼ï¼Œä¸ä¾èµ–HTTPä»£ç†
git remote set-url origin git@github.com:MRYGP/sanxiangwendao.git
```

### 2. ä¸ºç‰¹å®šåŸŸåç¦ç”¨ä»£ç†

```bash
# ä¸ºGitHubç¦ç”¨ä»£ç†
git config --global http.https://github.com.proxy ""
git config --global https.https://github.com.proxy ""
```

### 3. ä½¿ç”¨Gitå‡­æ®ç®¡ç†å™¨

```bash
# å®‰è£…Git Credential Manager
# å®ƒä¼šè‡ªåŠ¨å¤„ç†è®¤è¯ï¼Œä¸ä¾èµ–ä»£ç†
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¦‚æœç¡®å®éœ€è¦ä»£ç†**ï¼š
   - ç¡®ä¿ä»£ç†æœåŠ¡æ­£åœ¨è¿è¡Œ
   - é…ç½®æ­£ç¡®çš„ä»£ç†åœ°å€å’Œç«¯å£
   - ä¸è¦ä½¿ç”¨127.0.0.1é™¤éä»£ç†æœåŠ¡ç¡®å®åœ¨è¿è¡Œ

2. **ä¼ä¸šç½‘ç»œç¯å¢ƒ**ï¼š
   - å¯èƒ½éœ€è¦é…ç½®ä¼ä¸šä»£ç†æœåŠ¡å™¨
   - è”ç³»ç½‘ç»œç®¡ç†å‘˜è·å–æ­£ç¡®çš„ä»£ç†é…ç½®

3. **VPNè½¯ä»¶**ï¼š
   - æŸäº›VPNè½¯ä»¶ä¼šè‡ªåŠ¨é…ç½®ä»£ç†
   - å¯ä»¥å°è¯•ä¸´æ—¶å…³é—­VPNæµ‹è¯•

---

## âœ… å¿«é€Ÿä¿®å¤è„šæœ¬

åˆ›å»ºå¹¶è¿è¡Œä»¥ä¸‹PowerShellè„šæœ¬ï¼š

```powershell
# æ¸…é™¤æ‰€æœ‰ä»£ç†é…ç½®
Write-Host "æ¸…é™¤Gitä»£ç†é…ç½®..."
git config --global --unset http.proxy
git config --global --unset https.proxy
git config --local --unset http.proxy
git config --local --unset https.proxy

Write-Host "æ¸…é™¤ç³»ç»Ÿä»£ç†..."
netsh winhttp reset proxy

Write-Host "æ¸…é™¤ç¯å¢ƒå˜é‡..."
$env:HTTP_PROXY = $null
$env:HTTPS_PROXY = $null
$env:http_proxy = $null
$env:https_proxy = $null

Write-Host "ä¸ºGitHubç¦ç”¨ä»£ç†..."
git config --global http.https://github.com.proxy ""

Write-Host "å®Œæˆï¼è¯·é‡è¯• git push"
```

---

**ä¿®å¤å®Œæˆå**ï¼Œæ‰§è¡Œï¼š
```bash
git push origin master
```

---

## ğŸ” å½“å‰è¯Šæ–­ç»“æœ

### å·²æ£€æŸ¥çš„é…ç½®
- âœ… Gitå…¨å±€ä»£ç†ï¼šå·²æ¸…é™¤
- âœ… Gitæœ¬åœ°ä»£ç†ï¼šå·²æ¸…é™¤
- âœ… ç¯å¢ƒå˜é‡ï¼šæ— ä»£ç†è®¾ç½®
- âœ… Windowsç³»ç»Ÿä»£ç†ï¼šç›´æ¥è®¿é—®ï¼ˆæ— ä»£ç†ï¼‰

### å½“å‰é”™è¯¯
```
Recv failure: Connection was reset
```
è¿™è¡¨ç¤ºè¿æ¥å·²å»ºç«‹ä½†è¢«é‡ç½®ï¼Œå¯èƒ½æ˜¯ï¼š
1. ç½‘ç»œä¸ç¨³å®š
2. é˜²ç«å¢™é˜»æ­¢
3. GitHubæœåŠ¡å™¨ä¸´æ—¶é—®é¢˜
4. Tokenæƒé™é—®é¢˜

### è¿›ä¸€æ­¥è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆAï¼šæ£€æŸ¥é˜²ç«å¢™
```powershell
# æ£€æŸ¥Windowsé˜²ç«å¢™è§„åˆ™
Get-NetFirewallRule | Where-Object {$_.DisplayName -like "*git*"}

# ä¸´æ—¶ç¦ç”¨é˜²ç«å¢™æµ‹è¯•ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
# æ³¨æ„ï¼šæµ‹è¯•åè®°å¾—é‡æ–°å¯ç”¨
```

#### æ–¹æ¡ˆBï¼šä½¿ç”¨SSHæ–¹å¼ï¼ˆæœ€å¯é ï¼‰
```bash
# 1. ç”ŸæˆSSHå¯†é’¥ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
ssh-keygen -t ed25519 -C "your_email@example.com"

# 2. æŸ¥çœ‹å…¬é’¥
cat ~/.ssh/id_ed25519.pub

# 3. æ·»åŠ åˆ°GitHub
# GitHub â†’ Settings â†’ SSH and GPG keys â†’ New SSH key

# 4. åˆ‡æ¢è¿œç¨‹URL
git remote set-url origin git@github.com:MRYGP/sanxiangwendao.git

# 5. æµ‹è¯•è¿æ¥
ssh -T git@github.com

# 6. æ¨é€
git push origin master
```

#### æ–¹æ¡ˆCï¼šä½¿ç”¨GitHub Desktop
- ä¸‹è½½ï¼šhttps://desktop.github.com/
- é€šå¸¸èƒ½æ›´å¥½åœ°å¤„ç†ç½‘ç»œå’Œè®¤è¯é—®é¢˜

#### æ–¹æ¡ˆDï¼šæ£€æŸ¥Tokenæƒé™
- ç¡®è®¤tokenæœ‰`repo`æƒé™
- å¦‚æœtokenè¿‡æœŸï¼Œéœ€è¦ç”Ÿæˆæ–°token
